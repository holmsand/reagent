<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><base href="../"/><link href="css/built.css?1462189147629" rel="stylesheet"/><title>Reagent: All arguments allowed</title></head><body><div id="main-content"><div><div data-reactroot="" data-reactid="1" data-react-checksum="1311349158"><div class="nav" data-reactid="2"><ul class="nav" data-reactid="3"><li class="brand" data-reactid="4"><a href="index.html" data-reactid="5">Reagent:</a></li><li data-reactid="6"><a href="index.html" data-reactid="7">Intro</a></li><li data-reactid="8"><a href="news/index.html" data-reactid="9">News</a></li><li data-reactid="10"><a href="https://github.com/reagent-project/reagent" data-reactid="11">GitHub</a></li></ul></div><div data-reactid="12"></div><div class="reagent-demo" data-reactid="13"><h1 data-reactid="14"><a href="news/any-arguments.html" data-reactid="15">All arguments allowed</a></h1><div class="demo-text" data-reactid="16"><h2 data-reactid="17">If it looks like a function…</h2><p data-reactid="18"><!-- react-text: 19 -->Calling a component in Reagent looks a lot like a function
      call. Now it also <!-- /react-text --><em data-reactid="20">works</em><!-- react-text: 21 --> like one.<!-- /react-text --></p><p data-reactid="22">Before 0.4.0, component functions were always called with
      three arguments: a map of attributes, a vector of ”children”,
      and the current React component.</p><p data-reactid="23">This was confusing, and an unnecessary limitation, so now
      component functions get exactly the same arguments you pass to
      them.</p><div class="demo-text" data-reactid="24"><p data-reactid="25">In other words, you can now do this:</p><div data-reactid="26"><div class="demo-example clearfix" data-reactid="27"><a class="demo-example-hide" data-reactid="28">hide</a><h3 class="demo-heading" data-reactid="29">Example </h3><div class="simple-demo" data-reactid="30"><p data-reactid="31"><!-- react-text: 32 -->Hello, <!-- /react-text --><!-- react-text: 33 -->world<!-- /react-text --><!-- react-text: 34 -->!<!-- /react-text --></p></div></div><div class="demo-source clearfix" data-reactid="35"><h3 class="demo-heading" data-reactid="36">Source</h3><pre data-reactid="37"><span style="color:#272;" data-reactid="38">(</span><span style="color:#687868;font-weight:bold;" data-reactid="39">defn</span><!-- react-text: 40 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="41">hello-component</span><!-- react-text: 42 --> <!-- /react-text --><span style="color:#940;" data-reactid="43">[</span><!-- react-text: 44 -->name<!-- /react-text --><span style="color:#940;" data-reactid="45">]</span><!-- react-text: 46 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="47">[</span><span style="color:blue;" data-reactid="48">:p</span><!-- react-text: 49 --> <!-- /react-text --><span style="color:green;" data-reactid="50">&quot;Hello, &quot;</span><!-- react-text: 51 --> name <!-- /react-text --><span style="color:green;" data-reactid="52">&quot;!&quot;</span><span style="color:#940;" data-reactid="53">]</span><span style="color:#272;" data-reactid="54">)</span><!-- react-text: 55 -->

<!-- /react-text --><span style="color:#272;" data-reactid="56">(</span><span style="color:#687868;font-weight:bold;" data-reactid="57">defn</span><!-- react-text: 58 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="59">say-hello</span><!-- react-text: 60 --> <!-- /react-text --><span style="color:#940;" data-reactid="61">[</span><span style="color:#940;" data-reactid="62">]</span><!-- react-text: 63 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="64">[</span><!-- react-text: 65 -->hello-component <!-- /react-text --><span style="color:green;" data-reactid="66">&quot;world&quot;</span><span style="color:#940;" data-reactid="67">]</span><span style="color:#272;" data-reactid="68">)</span></pre></div></div><p data-reactid="69"><!-- react-text: 70 -->In the above example, it wouldn’t make any difference at
          all if <!-- /react-text --><code data-reactid="71">hello-component</code><!-- react-text: 72 --> had been called as a
          function, i.e with parentheses instead of brackets (except
          for performance, since components are cached between renders
          if the arguments to them don’t change).<!-- /react-text --></p><p data-reactid="73"><!-- react-text: 74 -->But there is one drawback: component function no longer
          receives the ”current component” as a parameter. Instead
          you’ll have to use <!-- /react-text --><code data-reactid="75">reagent.core/current-component</code><!-- react-text: 76 --> in order to get that. Beware that <!-- /react-text --><code data-reactid="77">current-component</code><!-- react-text: 78 --> is only valid in component
          functions, and must be called outside of e.g event handlers
          and <!-- /react-text --><code data-reactid="79">for</code><!-- react-text: 80 --> expressions, so it’s safest to always
          put the call at the top, as in <!-- /react-text --><code data-reactid="81">my-div</code><!-- react-text: 82 --> here:<!-- /react-text --></p><div data-reactid="83"><div class="demo-example clearfix" data-reactid="84"><a class="demo-example-hide" data-reactid="85">hide</a><h3 class="demo-heading" data-reactid="86">Example </h3><div class="simple-demo" data-reactid="87"><div data-reactid="88"><div class="custom" data-reactid="89">Some text.</div><div style="font-weight:bold;" class="custom" data-reactid="90"><p data-reactid="91">Some other text in bold.</p></div></div></div></div><div class="demo-source clearfix" data-reactid="92"><h3 class="demo-heading" data-reactid="93">Source</h3><pre data-reactid="94"><pre data-reactid="95"><span style="color:#272;" data-reactid="96">(</span><span style="color:#687868;font-weight:bold;" data-reactid="97">ns</span><!-- react-text: 98 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="99">example</span><!-- react-text: 100 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="101">(</span><span style="color:blue;" data-reactid="102">:require</span><!-- react-text: 103 --> <!-- /react-text --><span style="color:#44a;" data-reactid="104">[</span><!-- react-text: 105 -->reagent.core <!-- /react-text --><span style="color:blue;" data-reactid="106">:as</span><!-- react-text: 107 --> r<!-- /react-text --><span style="color:#44a;" data-reactid="108">]</span><span style="color:#940;" data-reactid="109">)</span><span style="color:#272;" data-reactid="110">)</span></pre><pre data-reactid="111"><span style="color:#272;" data-reactid="112">(</span><span style="color:#687868;font-weight:bold;" data-reactid="113">defn</span><!-- react-text: 114 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="115">my-div</span><!-- react-text: 116 --> <!-- /react-text --><span style="color:#940;" data-reactid="117">[</span><span style="color:#940;" data-reactid="118">]</span><!-- react-text: 119 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="120">(</span><span style="color:#687868;font-weight:bold;" data-reactid="121">let</span><!-- react-text: 122 --> <!-- /react-text --><span style="color:#44a;" data-reactid="123">[</span><!-- react-text: 124 -->this <!-- /react-text --><span style="color:#272;" data-reactid="125">(</span><span style="color:#687868;font-weight:bold;" data-reactid="126">r/current-component</span><span style="color:#272;" data-reactid="127">)</span><span style="color:#44a;" data-reactid="128">]</span><!-- react-text: 129 -->
    <!-- /react-text --><span style="color:#44a;" data-reactid="130">(</span><span style="color:#687868;font-weight:bold;" data-reactid="131">into</span><!-- react-text: 132 --> <!-- /react-text --><span style="color:#272;" data-reactid="133">[</span><span style="color:blue;" data-reactid="134">:div.custom</span><!-- react-text: 135 --> <!-- /react-text --><span style="color:#940;" data-reactid="136">(</span><span style="color:#687868;font-weight:bold;" data-reactid="137">r/props</span><!-- react-text: 138 --> this<!-- /react-text --><span style="color:#940;" data-reactid="139">)</span><span style="color:#272;" data-reactid="140">]</span><!-- react-text: 141 -->
          <!-- /react-text --><span style="color:#272;" data-reactid="142">(</span><span style="color:#687868;font-weight:bold;" data-reactid="143">r/children</span><!-- react-text: 144 --> this<!-- /react-text --><span style="color:#272;" data-reactid="145">)</span><span style="color:#44a;" data-reactid="146">)</span><span style="color:#940;" data-reactid="147">)</span><span style="color:#272;" data-reactid="148">)</span><!-- react-text: 149 -->

<!-- /react-text --><span style="color:#272;" data-reactid="150">(</span><span style="color:#687868;font-weight:bold;" data-reactid="151">defn</span><!-- react-text: 152 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="153">call-my-div</span><!-- react-text: 154 --> <!-- /react-text --><span style="color:#940;" data-reactid="155">[</span><span style="color:#940;" data-reactid="156">]</span><!-- react-text: 157 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="158">[</span><span style="color:blue;" data-reactid="159">:div</span><!-- react-text: 160 -->
   <!-- /react-text --><span style="color:#44a;" data-reactid="161">[</span><!-- react-text: 162 -->my-div <!-- /react-text --><span style="color:green;" data-reactid="163">&quot;Some text.&quot;</span><span style="color:#44a;" data-reactid="164">]</span><!-- react-text: 165 -->
   <!-- /react-text --><span style="color:#44a;" data-reactid="166">[</span><!-- react-text: 167 -->my-div <!-- /react-text --><span style="color:#272;" data-reactid="168">{</span><span style="color:blue;" data-reactid="169">:style</span><!-- react-text: 170 --> <!-- /react-text --><span style="color:#940;" data-reactid="171">{</span><span style="color:blue;" data-reactid="172">:font-weight</span><!-- react-text: 173 --> &#x27;bold<!-- /react-text --><span style="color:#940;" data-reactid="174">}</span><span style="color:#272;" data-reactid="175">}</span><!-- react-text: 176 -->
    <!-- /react-text --><span style="color:#272;" data-reactid="177">[</span><span style="color:blue;" data-reactid="178">:p</span><!-- react-text: 179 --> <!-- /react-text --><span style="color:green;" data-reactid="180">&quot;Some other text in bold.&quot;</span><span style="color:#272;" data-reactid="181">]</span><span style="color:#44a;" data-reactid="182">]</span><span style="color:#940;" data-reactid="183">]</span><span style="color:#272;" data-reactid="184">)</span></pre></pre></div></div><p data-reactid="185"><em data-reactid="186">Note: </em><code data-reactid="187">r/props</code><!-- react-text: 188 --> and <!-- /react-text --><code data-reactid="189">r/children</code><!-- react-text: 190 --> correspond to React’s <!-- /react-text --><code data-reactid="191">this.props</code><!-- react-text: 192 --> and <!-- /react-text --><code data-reactid="193">this.props.children</code><!-- react-text: 194 -->,
         respectively. They may be convenient to use when wrapping
         native React components, since they follow the same
         conventions when interpreting the arguments given.<!-- /react-text --></p><h2 data-reactid="195">Other news in 0.4.0</h2><ul data-reactid="196"><li data-reactid="197">React has been updated to version 0.9.0.</li><li data-reactid="198"><!-- react-text: 199 -->You can now use any object that satisfies <!-- /react-text --><code data-reactid="200">ifn?</code><!-- react-text: 201 --> as a component function, and not just
           plain functions. That includes functions defined with <!-- /react-text --><code data-reactid="202">deftype</code><!-- react-text: 203 -->, <!-- /react-text --><code data-reactid="204">defrecord</code><!-- react-text: 205 -->, etc, as well
           as collections like maps.<!-- /react-text --></li><li data-reactid="206"><code data-reactid="207">reagent.core/set-state</code><!-- react-text: 208 --> and <!-- /react-text --><code data-reactid="209">reagent.core/replace-state</code><!-- react-text: 210 --> are now implemented
           using an <!-- /react-text --><code data-reactid="211">reagent.core/atom</code><!-- react-text: 212 -->, and are
           consequently async.<!-- /react-text --></li><li data-reactid="213"><!-- react-text: 214 -->Keys associated with items in a seq (e.g ”dynamic
           children” in React parlance) can now be specified with
           meta-data, as well as with a <!-- /react-text --><code data-reactid="215">:key</code><!-- react-text: 216 --> item in the
           first parameter as before. In other words, these two forms
           are now equivalent: <!-- /react-text --><code data-reactid="217">^{:key foo} [:li bar]</code><!-- react-text: 218 -->
           and <!-- /react-text --><code data-reactid="219">[:li {:key foo} bar]</code><!-- react-text: 220 -->.<!-- /react-text --></li><li data-reactid="221"><!-- react-text: 222 -->Performance has been improved even further. For
           example, there is now practically no overhead for
           tracking derefs in components that don’t use <!-- /react-text --><code data-reactid="223">atom</code><!-- react-text: 224 -->s. Allocations and memory use have also
           been reduced.<!-- /react-text --></li><li data-reactid="225">Intro and examples have been tweaked a little to take
          advantage of the new calling conventions.</li></ul><h2 data-reactid="226">New svg example</h2><p data-reactid="227"><!-- react-text: 228 -->There is also a new, elegant and simple <!-- /react-text --><a href="https://github.com/reagent-project/reagent/tree/master/examples/geometry" data-reactid="229">example</a><!-- react-text: 230 --> of using svg with Reagent, written
          by <!-- /react-text --><a href="https://github.com/jonase" data-reactid="231">Jonas Enlund</a><!-- react-text: 232 -->. It also shows how you can
          use Reagent’s new calling convensions, and looks like
          this:<!-- /react-text --></p><div data-reactid="233"><div class="demo-example clearfix" data-reactid="234"><a class="demo-example-hide" data-reactid="235">hide</a><h3 class="demo-heading" data-reactid="236">Example </h3><div class="simple-demo" data-reactid="237"><svg width="100%" height="500" style="border:1px solid black;" data-reactid="238"><text style="-webkit-user-select:none;-moz-user-select:none;" x="20" y="20" font-size="20" data-reactid="239">The points are draggable and the slider controls history</text><g data-reactid="240"><g data-reactid="241"><line stroke="black" stroke-width="2" x1="100" y1="100" x2="200" y2="200" data-reactid="242"></line><line stroke="black" stroke-width="2" x1="200" y1="200" x2="100" y2="200" data-reactid="243"></line><line stroke="black" stroke-width="2" x1="100" y1="200" x2="100" y2="100" data-reactid="244"></line></g><circle fill="rgba(255,0,0,0.1)" stroke="black" stroke-width="2" cx="250" cy="300" r="50" data-reactid="245"></circle><line stroke="black" stroke-width="2" x1="250" y1="300" x2="250" y2="250" data-reactid="246"></line><line stroke="black" stroke-width="2" x1="100" y1="50" x2="500" y2="50" data-reactid="247"></line><rect stroke="black" width="10" height="30" x="500" y="35" data-reactid="248"></rect><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="250" cy="250" data-reactid="249"></circle><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="250" cy="300" data-reactid="250"></circle><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="100" cy="100" data-reactid="251"></circle><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="200" cy="200" data-reactid="252"></circle><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="100" cy="200" data-reactid="253"></circle></g></svg></div></div><div class="clearfix" data-reactid="254"></div></div></div></div></div><a href="https://github.com/reagent-project/reagent" class="github-badge" data-reactid="255"><img style="position:absolute;top:0;left:0;border:0;" alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png" data-reactid="256"/></a></div></div></div><script>var pageConfig = {"page-path":"/news/any-arguments.html"}</script><script src="js/main.js?1462189147629" type="text/javascript"></script></body></html>